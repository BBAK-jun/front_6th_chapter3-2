# Story 5.3: 단일 수정 시 반복 속성 제거(Flatten) 및 아이콘 제거

## Story Goal

반복 일정 편집 시 "이 일정만 수정"을 선택하면 해당 인스턴스가 단일 일정으로 저장되어, 반복 아이콘이 사라지도록 일관성을 확보합니다.

## User Story

**As a** 사용자,
**I want** 반복 그룹의 특정 인스턴스만 수정할 때 그 인스턴스가 단일 일정으로 저장되고,
**so that** 이후에는 반복 편집의 영향을 받지 않도록 하고 싶다.

## Acceptance Criteria

1. 편집 플로우에서 "이 일정만 수정" 선택 시 저장 직전에 대상 인스턴스의 `repeat`를 `{ type: 'none', interval: 1 }`로 강제 설정한다. (`repeat.id`는 제거 또는 무시)
2. 단일화된 인스턴스는 캘린더/리스트에서 반복 아이콘이 표시되지 않는다.
3. "그룹 전체 수정" 선택 시 기존 그룹 편집 동작 유지.

## Technical Notes

- 대상 파일: `src/App.tsx`
- 편집 모드에서 `updateScope === 'single'` 분기 추가 혹은 기존 분기 보강
- 저장 시 단일화 처리: `repeat: { type: 'none', interval: 1 }` 강제 세팅
- `EventItem`의 반복 아이콘은 기존 로직(`repeat.type !== 'none'`)을 재사용하여 자동 비표시

## Definition of Done

- [ ] 단일 수정 저장 후 해당 인스턴스의 `repeat.type`이 `none`으로 저장됨을 통합 테스트로 검증
- [ ] 단일화된 인스턴스에서 반복 아이콘이 표시되지 않음을 UI 회귀 테스트로 검증
- [ ] 기존 단일/전체 삭제 동작 회귀 이상 없음
- [ ] 문서 반영(본 문서) 완료

## Testing Requirements

- 통합 테스트 추가: `src/__tests__/integration/` 신규 스펙
  - 단일 수정 → 저장 → 아이콘 제거 확인
- 회귀 테스트: 기존 단일/전체 삭제 플로우 유지 확인

## Risks / Notes

- 편집 폼 상태와 저장 시점의 불일치 방지(저장 직전 강제 세팅 추천)
- 그룹 id 유지/제거에 따른 후속 동작 영향 검토(아이콘/표시 기준은 `type`)
